"use strict";
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT license. See LICENSE file in the project root for details.
Object.defineProperty(exports, "__esModule", { value: true });
exports.enablePublishers = void 0;
const logging_1 = require("../../logging");
const TAG = "DiagnosticChannel";
let isInitialized = false;
function enablePublishers() {
    // Only register monkey patchs once
    if (!isInitialized) {
        isInitialized = true;
        // eslint-disable-next-line @typescript-eslint/no-var-requires
        const publishers = require("diagnostic-channel-publishers");
        const modules = {
            bunyan: publishers.bunyan,
            console: publishers.console,
            winston: publishers.winston,
        };
        for (const mod in modules) {
            modules[mod].enable();
            logging_1.Logger.getInstance().info(TAG, `Subscribed to ${mod} events`);
        }
    }
}
exports.enablePublishers = enablePublishers;
//# sourceMappingURL=initialization.js.map